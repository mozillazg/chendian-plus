<!doctype html>
<html lang="zh">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" type="image/ico" href="http://tmp-images.qiniudn.com/chendian/cat_mouse_reading.jpg" />
    <title>{% block title %}沉淀书会后台管理{% endblock title %} </title>
    <link rel="stylesheet" href="http://tmp-images.qiniudn.com/chendian/libs/jquery.datetimepicker.css" />
    <link rel="stylesheet" href="http://tmp-images.qiniudn.com/chendian/libs/normalize.css" />
    <link rel="stylesheet" href="http://tmp-images.qiniudn.com/bootstrap-3.3.2/css/bootstrap.min.css" />
<link href="http://tmp-images.qiniudn.com/bootstrap-fileinput-4.1.9/css/fileinput.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="{{ STATIC_URL }}css/site.css" />
    <style>
      body {
        padding-top: 70px;
      }
    </style>

    {% block extra_head %}{% endblock extra_head %}

  </head>
  <body>

    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">

        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
            data-target="#navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="{% url "admin123" %}">后台</a>
        </div>

      <div class="collapse navbar-collapse" id="navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li><a href="{% url "qq:record_checkin_list" %}">打卡记录</a></li>
          <li><a href="{% url "qq:analysis_group_by_qq_list" %}">打卡天数</a></li>
          <li><a href="{% url "book:book_list" %}">书籍管理</a></li>
          <li><a href="{% url "member:member_list" %}">成员管理</a></li>
          <li><a href="{% url "qq:import_list" %}">数据导入</a></li>
          <li><a href="{% url "admin123" %}">热门书籍</a></li>
          <li><a href="/admin/blog/">文章管理</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li><a href="/">返回首页</a><li>
          <li><a href="#">{{ request.user.username }}</a></li>
          <li><a href="{% url "logout" %}">退出</a></li>
        </ul>
      </div>
    </div>
  </nav>


      <div class="container">
          {% block content %}{% endblock content %}
      </div>

    <script src="http://tmp-images.qiniudn.com/chendian/libs/jquery.2.1.3.min.js"></script>
    <script src="http://tmp-images.qiniudn.com/bootstrap-3.3.2/js/bootstrap.min.js"></script>
    <script src="http://tmp-images.qiniudn.com/bootstrap-fileinput-4.1.9/js/fileinput.min.js"></script>
    <script src="http://tmp-images.qiniudn.com/chendian/libs/jquery.datetimepicker.js"></script>
    <script src="http://tmp-images.qiniudn.com/chendian/libs/mustache.min.js"></script>
    <script>
      $(document).ready(function() {
        $("#datetime_start").datetimepicker({
          format: "Y-m-d H:i",
          defaultTime: "00:00"
        });

        $("#datetime_end").datetimepicker({
          format: "Y-m-d H:i",
          defaultTime: "00:00"
        });

      });

      // using jQuery
      function getCookie(name) {
          var cookieValue = null;
          if (document.cookie && document.cookie != '') {
              var cookies = document.cookie.split(';');
              for (var i = 0; i < cookies.length; i++) {
                  var cookie = jQuery.trim(cookies[i]);
                  // Does this cookie string begin with the name we want?
                  if (cookie.substring(0, name.length + 1) == (name + '=')) {
                      cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                      break;
                  }
              }
          }
          return cookieValue;
      }
      var csrftoken = getCookie('csrftoken');
      function csrfSafeMethod(method) {
          // these HTTP methods do not require CSRF protection
          return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
      }
      $.ajaxSetup({
          beforeSend: function(xhr, settings) {
              if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
                  xhr.setRequestHeader("X-CSRFToken", csrftoken);
              }
          }
      });
    </script>

    {% block extra_js %}{% endblock extra_js %}

  </body>
</html>
